def.Proc.SpawnCoins()#posiable location for coins list of list $CoinSpawnLocations {location,block}
var.CreateList(%defaultCurrentCoinLocations)
var.CreateList(%defaultCurrentCoinUUIDS)
for.Forever()
{    
    var./(~waitMin,50,$%defaultCoinWaitTime)
    var./(~waitMax,150,$%defaultCoinWaitTime)
    var.RandomNumber(~waitTime,~waitMin,~waitMax)
    control.Wait(~waitTime)
    var.ListLength(~maxIndex,$coinSpawnLocations)
    ifnot.var.<(gv("Y-Coordinate"),50)#only spawn coins is the player is playing
    {
        for.Multiple(5:1)#only dose it  5 times so the plot dose not fill up to quickly and not get lagslayered if full
        {
            var.RandomNumber(~index,1,~maxIndex)
            var.GetListValue(~location,$coinSpawnLocations,~index)
            var.GetListValue(~locationTag,~location,1)
            var.GetValueIndex(~ifInList,%defaultCurrentCoinLocations,~locationTag)
            if.var.=(~ifInList,0)
            {
                var.GetListValue(~coinLocation,~location,1)
                var.GetListValue(~coinBlock,~location,2)
                call.Func.CreateCoin()
                control.StopRepeat()
            }
            control.Wait(0)
        }
    }
}


